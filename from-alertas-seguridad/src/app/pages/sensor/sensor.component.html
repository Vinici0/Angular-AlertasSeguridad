<h2>Registro Sesores</h2>

<div class="d-flex justify-content-center w-100 row">
  <form (ngSubmit)="agregarSensor()" [formGroup]="registerSensor">
    <div class="d-flex justify-content-end">
      <button
        type="submit"
        class="btn btn-success w-25"
        [disabled]="registerSensor.invalid"
      >
        <i class="bi bi-save"></i>
      </button>
      <!-- <button type="submit" class="btn btn-primary">Submit</button> -->
    </div>
    <div class="mb-3">
      <div class="row d-flex justify-content-center align-items-center">
        <div class="col-md-6">
          <label for="exampleFormControlInput1" class="form-label"
            >Tipo de sensor</label
          >
          <input
            type="text"
            class="form-control"
            id="exampleFormControlInput1"
            placeholder="Tipo de sensor"
            formControlName="tipo"
          />
        </div>
        <div class="col-md-6">
          <label for="exampleFormControlInput1" class="form-label"
            >Tipo zona de emergencia</label
          >
          <select
            class="form-select"
            aria-label="Default select example"
            formControlName="zonaSeguridadId"
          >
            <option
              *ngFor="let zonaSeguridad of zonasSeguridadS"
              [value]="zonaSeguridad.id"
            >
              {{ zonaSeguridad.nombre }}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div class="mb-3">
      <label for="exampleFormControlTextarea1" class="form-label"
        >Ubicación</label
      >
      <textarea
        class="form-control"
        id="exampleFormControlTextarea1"
        rows="3"
        formControlName="ubicacion"
      ></textarea>
    </div>
  </form>
  <button
    class="btn btn-primary w-25"
    [disabled]="activo"
    (click)="putSensor()"
  >
    <i class="bi bi-pen-fill"></i>
  </button>
  <div>
    <hr class="my-4" />
    <table
      class="table table-striped table-hover table-bordered w-100 text-center"
    >
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nombre</th>
          <th scope="col">Ubicación</th>
          <th scope="col">Zona de emergencia</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody class="table-light w-100">
        <tr *ngFor="let sensor of sensores; let i = index">
          <th scope="row">{{ i }}</th>
          <td>
            {{ sensor[0].tipo }}
          </td>
          <td>
            {{ sensor[0].ubicacion }}
          </td>
          <td>
            {{ sensor[1] }}
          </td>
          <td>
            <div class="d-flex justify-content-center gap-2">
              <button
                type="button"
                class="btn btn-primary"
                (click)="verSonsor(sensor)"
                data-toggle="modal"
                data-target="#exampleModal"
              >
                <i class="bi bi-eye"></i>
              </button>

              <button
                type="button"
                class="btn btn-danger"
                (click)="deleteSensor(sensor[0].id)"
              >
                Eliminar
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
